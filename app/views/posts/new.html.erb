<main class="posts-new">
  <%= render 'shared/header' %>
  <section>
    <div class="posts-new-contents">
      <h1 class="form-title">写真を投稿する</h1>

      <%= form_with model: @post, local: true do |f| %>
      <%= render "devise/shared/error_messages", model: f.object %>
      <%# プレビュー出力欄 %>
      <div class="img-field" id="image-list">
        <div id="image-list"></div>
        <% @post.images.each do |image| %>
          <%= image_tag image, class: 'new-images' %>
        <% end %>
      </div>
      <label class="form-image">
        <i class="fas fa-images fa-2x "></i>
        <%= f.file_field :images, id:"posts-image" ,name: 'post[images][]' ,class: "hidden",multiple: true, data: {index: 0}%>
      </label>
      <p class="img-explanation">
        アイコンをクリックして写真をアップロード（4枚まで）
      </p>
        <div class="posts-new-content">
          <%= f.text_area :caption, class:"caption-field", id:"caption", placeholder:"キャプションを書く", maxlength:"250" %>
        </div>
        <%= f.submit "投稿する" ,class:"posts-new-send" %>
      <%end%>
    </div>
  </section>
  <%= render 'shared/footer' %>
</main>
